<ChatRoot>:
    orientation: "vertical"
    spacing: 8
    padding: 8

    ScrollView:
        size_hint_y: 0.82
        do_scroll_x: False

        Label:
            id: chat_label
            text: root.chat_history
            size_hint_y: None
            height: self.texture_size[1]
            text_size: self.width, None
            halign: "left"
            valign: "top"

    BoxLayout:
        size_hint_y: 0.12
        spacing: 6

        TextInput:
            id: input_box
            multiline: True
            size_hint_x: 0.75
            hint_text: "Tulis pesan... (Shift+Enter untuk baris baru)"

        Button:
            text: "Send"
            size_hint_x: 0.25
            on_release: root.send_message()

    Button:
        text: "Clear Chat"
        size_hint_y: 0.06
        on_release: root.clear_chat()
